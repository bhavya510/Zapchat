<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Welcome to ZoopChat</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
</head>
<body class="splash-screen d-flex align-items-center justify-content-center">
  <div class="text-center">
    <!-- Logo + Name -->
    <div class="mb-4">
      <i class="bi bi-chat-dots-fill" style="font-size: 4rem; color: #0d6efd;"></i>
      <h1 class="fw-bold mt-2">ZoopChat</h1>
      <p class="text-secondary">Chat instantly. Connect deeply.</p>
    </div>

    <!-- Loader -->
    <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;">
      <span class="visually-hidden">Loading...</span>
    </div>

    <p class="text-muted mt-3">Launching chat magic...</p>
  </div>

  <script>
    // After 3 seconds, check login status via backend
    setTimeout(() => {
      fetch("/check-login")
        .then(res => res.json())
        .then(data => {
          if (data.logged_in) {
            window.location.href = "/list";
          } else {
            window.location.href = "/login";
          }
        })
        .catch(() => {
          // fallback in case of network error
          window.location.href = "/login";
        });
    }, 3000);
  </script>
</body>
</html>
